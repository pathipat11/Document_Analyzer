{% extends "documents/base.html" %}
{% block title %}Combined Detail · Document Analyzer{% endblock %}

{% block content %}
<div class="flex items-start justify-between gap-4">
    <div>
        <h1 class="text-xl font-semibold">{{ cs.title }}</h1>
        <p class="mt-1 text-sm text-slate-500 dark:text-slate-400">
            {{ cs.doc_count }} documents • {{ cs.total_words }} words • {{ cs.created_at }}
        </p>
    </div>
    <a class="btn-outline" href="{% url 'documents:combined_list' %}">Back</a>
</div>

<div class="grid grid-cols-1 gap-5 lg:grid-cols-3 mt-5">
    <div class="card p-6 lg:col-span-2">
        <h2 class="text-lg font-semibold">Combined Summary</h2>
        <pre
            class="mt-3 whitespace-pre-wrap rounded-xl bg-slate-100 p-4 text-sm text-slate-800 dark:bg-slate-950 dark:text-slate-200">
{{ cs.combined_summary|default:"(not available)" }}
      </pre>
    </div>

    <div class="card p-6 lg:col-span-1">
        <h2 class="text-lg font-semibold">Included Documents</h2>
        <ul class="mt-3 space-y-2 text-sm">
            {% for d in docs %}
            <li>
                <a class="text-blue-700 hover:underline dark:text-blue-300" href="{% url 'documents:detail' d.pk %}">
                    {{ d.file_name }}
                </a>
                <div class="text-xs text-slate-500 dark:text-slate-400">{{ d.document_type }} • {{ d.word_count }} words
                </div>
            </li>
            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}